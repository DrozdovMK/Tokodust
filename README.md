# Tokodust
Описание программного кода команды "Погромисты" развертки видео с камеры в 2d плоскость

### Предобработка данных
При помощи модулей openCV и numpy видеозаписи были считаны в формате массива фреймов. 
Каждый отдельный фрейм был отцентрирован относительно предполагаемого обратного конца трубы. Также посчитаны углы, на которые отклоняются отверстия от вертикального положения. 
Данные отверстия служили "маяком" для наших измерений. Для уточнения эффективности этого метода, изображения были отфильтрованы от низких пространственных частот, после чего бинаризованы. Таким образом было установлено, что блики от отверстий, вызванные светодиодом камеры, имеют наибольшую интенсивность. Далее параметры для поворота и трансляции изображений были расчитаны относительно этих бликов.

### Развертка
Для развертки было принято решение преобразовывать сегменты видимого конуса в трапеции. Высота трапеции расчитывалась относительно скорости перемещения камеры. В силу отсутствия параеметров камеры, точно подсчитать скорость не удалось, поэтому скорость передвижения была найдена эмпирическим методом и принята за константу.
"Разрез" сегмента производился по местоположению отверстий (что известно из предобработки).

Полученная трапеция сначала приводилась к форме прямоугольника. Позже все прямоугольники в наборе приведены к одному размеру. Данные преобразования проводились с использованием методов интерполяции при растяжении изображений.
Таким образом из полученных прямоугольников при помощи конкатенации выстраивается искомая карта трубы.

### Сегментация


### Приложение
